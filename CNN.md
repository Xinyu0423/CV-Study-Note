## CNN
1. https://zhuanlan.zhihu.com/p/27908027
2. https://zhuanlan.zhihu.com/p/28173972

# Feature
1. Feature在CNN中也被称为卷积核，一般是3*3，或者5*5的大小

## 卷积运算
1. 卷积运算的过程为对应相乘，具体如下图
   1. 取 feature里的（1，1）元素值，再取图像上蓝色框内的（1，1）元素值，二者相乘等于1。把这个结果1填入新的图中。 
   [![2023-04-01-14-37-55.png](https://i.postimg.cc/VLf5ymw6/2023-04-01-14-37-55.png)](https://postimg.cc/nMWnB8Cb)
   2. 同理再继续计算其他8个坐标处的值
   3. 9个都计算完了就会变成这样。
   4. [![2023-04-01-14-39-16.png](https://i.postimg.cc/ZnVbYvmq/2023-04-01-14-39-16.png)](https://postimg.cc/0KKRcQbg)
   5. 接下来的工作是对右图九个值求平均，得到一个均值，将均值填入一张新的图中。
   6. 这张新的图我们称之为 feature map （特征图）
   [![2023-04-01-14-40-26.png](https://i.postimg.cc/FRvNjVsR/2023-04-01-14-40-26.png)](https://postimg.cc/DWx9hsGk)
   7. 进行卷积对应相乘运算并求得均值后，滑动窗便开始向右边滑动。根据步长的不同选择滑动幅度。
   8. 经过一系列卷积对应相乘，求均值运算后，我们终于把一张完整的feature map填满了
   [![2023-04-01-14-43-46.png](https://i.postimg.cc/7ZSRg8C3/2023-04-01-14-43-46.png)](https://postimg.cc/fVT5NPfy)

## Feature Map
1. feature map是每一个feature从原始图像中提取出来的“特征”
2. 其中的值，越接近为1表示对应位置和feature的匹配越完整
3. 越是接近-1，表示对应位置和目标图形没有匹配上。
4. 而值接近0的表示对应位置没有任何匹配或者说没有什么关联。

## Relu
1. Relu在cnn中保留feature map中所有大于0的值
2. 将所有小于0的值全部改写成0
3. 为什么这么做：
   1. 卷积后产生的特征图中的值，越靠近1表示与该特征越关联，越靠近-1表示越不关联，而我们进行特征提取时，为了使得数据更少，操作更方便，就直接舍弃掉那些不相关联的数据。

## 池化（Pooling）
1. 池化的作用：在卷积操作后，我们得到了多张不同值的feature map，但由于数据量过于庞大，需要使用池化操作减少数据量
2. 池化分为两种，Max Pooling 最大池化、Average Pooling平均池化。顾名思义，最大池化就是取最大值，平均池化就是取平均值。
   1. 拿最大池化举例：选择池化尺寸为2x2，因为选定一个2x2的窗口，在其内选出最大值更新进新的feature map。
   [![2023-04-01-14-53-04.png](https://i.postimg.cc/fyLcRXd2/2023-04-01-14-53-04.png)](https://postimg.cc/JDfDTsPZ)
   [![2023-04-01-14-54-06.png](https://i.postimg.cc/Z53rnJ9S/2023-04-01-14-54-06.png)](https://postimg.cc/PCXLFsz3)
   2. 最终得到池化后的feature map。可明显发现数据量减少了很多。

3. 因为最大池化保留了每一个小块内的最大值，所以它相当于保留了这一块最佳匹配结果（因为值越接近1表示匹配越好）。
4. 这也就意味着它不会具体关注窗口内到底是哪一个地方匹配了，而只关注是不是有某个地方匹配上了
5. 这也就能够看出，CNN能够发现图像中是否具有某种特征，而不用在意到底在哪里具有这种特征。

## CNN的基本操作流程
1. 卷积层--Relu层--池化层
2. 在常见的几种CNN中，这三层都是可以堆叠使用的，将前一层的输入作为后一层的输出。比如
   1. [![2023-04-01-14-57-20.png](https://i.postimg.cc/PrnYCPD5/2023-04-01-14-57-20.png)](https://postimg.cc/rzgKbygB)

## 全连接层（Fully Connected Layer）
1. 最大的目的是改变特征图的维度，使其输出目标结果对应的概率值
2. 卷积层使用的是“局部连接”（我们之前使用的是3*3的卷积核对原图进行逐步的卷积，因此只有3*3的窗口能和原图连接起来
3. 在未连接的部分中，我们使用滑动窗口的方式进行后续的连接，这种方法就是“参数共享”

## Softmax
1. 在进行概率计算时，有可能最后得到的结果相加不等于1

